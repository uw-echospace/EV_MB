import pandas as pd
import matplotlib.pyplot as plt
import matplotlib.dates as mdates

# Read the CSV file into a DataFrame, skipping the header row
data = pd.read_csv('2023-uwa.csv', skiprows=1)

# Convert 'Date' column to datetime format
data['Date'] = pd.to_datetime(data['Date'])

# Set up the plot
fig, (ax1, ax2, ax3) = plt.subplots(3, 1, figsize=(8, 10))

# Format the x-axis to display month names
months = mdates.MonthLocator()  # Locate the months on the x-axis
month_fmt = mdates.DateFormatter('%B')  # Format the month labels
ax1.xaxis.set_major_locator(months)
ax1.xaxis.set_major_formatter(month_fmt)
ax2.xaxis.set_major_locator(months)
ax2.xaxis.set_major_formatter(month_fmt)
ax3.xaxis.set_major_locator(months)
ax3.xaxis.set_major_formatter(month_fmt)

# Plot the line graph
ax1.plot(data[' Pseudo-Julian-Date'], data['Temperature'])
ax1.set_ylabel('Temperature')
ax1.set_title('Temperature Variation')

# Plot the scatter plot with modified marker opacity
ax2.scatter(data['Date'], data['Temperature'], alpha=0.5)  # Adjust the alpha value as desired
ax2.set_ylabel('Temperature')
ax2.set_title('Temperature Scatter Plot')

# Plot the bar plot
ax3.bar(data['Date'], data['Temperature'])
ax3.set_ylabel('Temperature')
ax3.set_title('Temperature Bar Plot')

# Enable the interactive hover feature
for ax in (ax1, ax2, ax3):
    ax.format_xdata = mdates.DateFormatter('%Y-%m-%d')
    ax.format_ydata = lambda y: f'{y:.2f}'
    ax.grid(True)

# Adjust the layout and spacing
plt.tight_layout()

# Display the plots
plt.show()
